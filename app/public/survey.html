<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Friend Finder</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Lilita+One|Roboto" rel="stylesheet">
  <link rel="stylesheet" href="public/css/style.css">
  <link rel="stylesheet" href="public/css/survey.css">

  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>

<body>
  
  <div class="container">
  
    <h1>Friend Finder</h1>
    <div id="survey">
      <h2>Survey Questions</h2>
      <hr>

      <h3><strong>About You</strong></h3>
      <h4>Name (Required)</h4>
      <input type="text" id="name" class="form-control" required>

      <h4>Link to Photo Image (Required)</h4>
      <input type="text" id="photo" class="form-control" required>

      <hr>

      <h3><strong>1.</strong></h3>
      <h4>What would you like to do on a night out?</h4>
      <select class="form-control" id="q1">
        <option value=""></option>
        <option value="1">Fancy Dinner</option>
        <option value="2">Karaoke</option>
        <option value="3">Grab drinks at a bar</option>
        <option value="4">V.I.P. Club</option>
        <option value="5">Sporting Event</option>
      </select>

      <h3><strong>2.</strong></h3>
      <h4>How do you like your eggs?</h4>
      <select class="form-control" id="q2">
        <option value=""></option>
        <option value="1">Scrambled</option>
        <option value="2">Poached</option>
        <option value="3">Over Easy</option>
        <option value="4">Boiled</option>
        <option value="5">I don't like eggs.</option>
      </select>


      <h3><strong>3.</strong></h3>
      <h4>What type of people do you dislike the most?</h4>
      <select class="form-control" id="q3">
        <option value=""></option>
        <option value="1">Narrow-minded people</option>
        <option value="2">Pessimistic people</option>
        <option value="3">Arrogant people</option>
        <option value="4">Selfish people</option>
        <option value="5">Dishonest people</option>
      </select>


      <h3><strong>4.</strong></h3>
      <h4>Which comedy TV show do you like the most?</h4>
      <select class="form-control" id="q4">
        <option value=""></option>
        <option value="1">Seinfeld</option>
        <option value="2">Friends</option>
        <option value="3">The Simpsons</option>
        <option value="4">South Park</option>
        <option value="5">Modern Family</option>
      </select>


      <h3><strong>5.</strong></h3>
      <h4>Which of these games appeals to you the most?</h4>
      <select class="form-control" id="q5">
        <option value=""></option>
        <option value="1">Scrabble</option>
        <option value="2">Trivia</option>
        <option value="3">FIFA</option>
        <option value="4">Pokemon Go</option>
        <option value="5">Laser Tag</option>
      </select>


      <h3><strong>6.</strong></h3>
      <h4>What are you looking for most in a friend?</h4>
      <select class="form-control" id="q6">
        <option value=""></option>
        <option value="1">Someone who tolerates your weirdness</option>
        <option value="2">Someone who challenges you</option>
        <option value="3">Someone to introduce you to their hott friends</option>
        <option value="4">Someone to do fun things with</option>
        <option value="5">Someone to make you look cool</option>
      </select>


      <h3><strong>7.</strong></h3>
      <h4>What do you want your tombstone to say?</h4>
      <select class="form-control" id="q7">
        <option value=""></option>
        <option value="1">Damn it's dark down here.</option>
        <option value="2">I was hoping for a pyramid.</option>
        <option value="3">Inclined to mischeif.</option>
        <option value="4">Died tragically from rescuing family from the wreckage of a destroyed sinking battleship.</option>
        <option value="5">Never killed a man that did not need killing.</option>
      </select>

      <h3><strong>8.</strong></h3>
      <h4>Which of these adjectives best describes you?</h4>
      <select class="form-control" id="q8">
        <option value=""></option>
        <option value="1">Shy</option>
        <option value="2">Strong</option>
        <option value="3">Funny</option>
        <option value="4">Playful</option>
        <option value="5">Loyal</option>
      </select>

      <h3><strong>9.</strong></h3>
      <h4>When in a confrontation or argument, what do you do?</h4>
      <select class="form-control" id="q9">
        <option value=""></option>
        <option value="1">Run away</option>
        <option value="2">Scream and yell</option>
        <option value="3">Give nasty looks</option>
        <option value="4">Cry</option>
        <option value="5">Get physical</option>
      </select>

      <h3><strong>10.</strong></h3>
      <h4>Which is a bigger issue to you?</h4>
      <select class="form-control" id="q10">
        <option value=""></option>
        <option value="1">Health of your family</option>
        <option value="2">Global Warming</option>
        <option value="3">Human Rights</option>
        <option value="4">What you're going to eat today</option>
        <option value="5">What you're going to wear today</option>
      </select>
      <hr>

      <!-- Submit Button -->


    </div>

      <button type="submit" id="submit" class="center-block text-center">Submit</button>
  </div>
  
  <footer>
        <p><a href="/api/friends" target="_blank">API Friends List</a> | <a href="https://github.com/meeshyd/friendfinder" target="_blank">GitHub Repo</a></p>
  </footer>

  <!-- Modal -->
  <div id="results-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Best Match</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="match-name"></h2>
          <img id="match-img" class="img-rounded img-responsive center-block" src="" alt="">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn center-block text-center" id="modal-submit" data-dismiss="modal">Start Over</button>
        </div>
      </div>

    </div>
  </div>

  <script type="text/javascript">

    $("#submit").on("click", function(event) {
        let surveyData = {
          name: $("#name").val(),
          photoURL: $("#photo").val(),
          scores: [
              $("#q1").val(),
              $("#q2").val(),
              $("#q3").val(),
              $("#q4").val(),
              $("#q5").val(),
              $("#q6").val(),
              $("#q7").val(),
              $("#q8").val(),
              $("#q9").val(),
              $("#q10").val()
          ]
        };

        $.post('/api/friends', surveyData, function(data) {
          $("#match-name").text(data.name);
          $("#match-img").attr("src", data.photoURL);
          $("#results-modal").modal("toggle");  
        });
    });

    $("#modal-submit").on("click", function(event) {
      event.preventDefault();
      $(".form-control").val("");
    });

  </script>

</body>

</html>